# v1.1 — Output hardening & zero-friction imports (2–3 days)

Goal: Make plans instantly actionable without any manual reformatting and reduce bad recommendations.

## Upgrades
	1.	Ads Editor bulk sheets export
	•	Emit ads_editor/ with CSVs for Campaigns, Ad Groups, Keywords (Exact/Phrase), RSAs, Sitelinks, and Negative Keywords.
	•	Mirror ads.json → CSV reliably (deterministic order, UTF-8, Windows line endings).
	2.	Google Ads Script (safe draft)
	•	exports/ads_script_<product>.js creates the same structure paused by default. Add a header with budget caps + “review before run”.
	3.	Indexability & quality gates
	•	url_health.json: for each landing page (existing or newly briefed), record HTTP status, <title>, <h1>, canonical, robots, meta noindex, and a simple word count. Block ad-group mapping if 4xx/5xx/noindex/missing H1.
	•	If GSC URL Inspection is enabled later, use it; for now, do an HTTP+HTML parse gate.
	4.	Localization enforcement
	•	Use your market_localization map for SERP calls and include localized title/meta suggestions per market in seo_pages.md.
	5.	Claim-guard
	•	Read claims_validation from product YAML; redact “local/no uploads/privacy-first” lines in ad copy + briefs if false/unknown for that use-case.
	6.	Plan diffing
	•	diff.json vs previous run: added/removed keywords, ad groups, new/changed page briefs, SERP-blocker shifts.

## Pass/Fail (must pass)
	•	Ads Editor CSVs import without errors; RSAs show one pinned “Chrome Extension” headline per ad group.
	•	No ad group points to a failed page in url_health.json.
	•	diff.json exists and lists changes in all five artifacts.

⸻

## Nice-to-haves you can slot anywhere
	•	Bing Keyword Research connector (Edge users are real for extensions).
	•	Ads variations generator: automatically create 2 RSA variants per ad group (benefit-led vs proof-led) and label them in exports.
	•	Sitemap & robots checks: warn if new briefs lack a link path from the homepage or sitemap.
	•	UTM builder: emit canonical UTM templates for each ad group (keeps Plausible reports clean).
	•	Lighthouse content sanity: quick LCP/CLS metrics for proposed pages; fail if egregious.

⸻

## Engineering notes (to save you time)
	•	Data contracts: Lock JSON/CSV schemas now and add snapshot tests (vitest) for ads.json, seo_pages.md, and CSV headers—zero surprises when you iterate.
	•	Concurrency: cap SERP calls at 5–8 concurrent; enforce ≤30 total per run to keep RapidAPI cost predictable.
	•	Determinism: sort arrays before writing files; pin floats to 2–3 decimals so diffs are meaningful.
	•	Secrets: keep RapidAPI keys and (later) Ads OAuth tokens in .env; never write them into plans/ outputs.
