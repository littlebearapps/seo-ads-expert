# v1.3 — Official APIs + one-click apply (when Ads API is approved) (4–7 days)

Goal: Move from “plan & export” to “plan & apply (with guardrails).” Also add Microsoft Ads parity.

## Upgrades
	1.	Google Ads API (read + guarded write)
	•	Implement GAQL reads for campaigns/ad groups/keywords/ads so you can reconcile against ads.json.
	•	apply_ads_changes(confirm=true): mutate with hard caps:
	•	Daily budget default cap (e.g., A$10 unless overridden).
	•	Desktop-only device setting by default.
	•	No writes if any landing page fails url_health.
	•	Dry-run mode returns a diff (create/update/pause) before executing.
	2.	Negative list sync
	•	Create/update a shared negative list per product; attach to all campaigns.
	3.	Microsoft Ads export
	•	Emit Microsoft Advertising bulk import CSV (or a Google-to-Microsoft mapping CSV) to kickstart Edge users.
	4.	MCP server
	•	Wrap plan, diff, export_editor_csv, emit_ads_script, apply_ads_changes as MCP tools. Claude can now: “plan → show diff → apply”.
	5.	Audit log
	•	audit/ folder with timestamped JSON for every apply (inputs, diff, outcome, errors). Non-repudiable trail.

## Pass/Fail
	•	Dry-run diff matches Ads Editor import preview for the same plan.
	•	Guardrails fire: attempts to apply with a 404 LP or exceeding budget cap should refuse with a clear error.
	•	Microsoft Ads CSV imports without schema errors.

⸻

## Nice-to-haves you can slot anywhere
	•	Bing Keyword Research connector (Edge users are real for extensions).
	•	Ads variations generator: automatically create 2 RSA variants per ad group (benefit-led vs proof-led) and label them in exports.
	•	Sitemap & robots checks: warn if new briefs lack a link path from the homepage or sitemap.
	•	UTM builder: emit canonical UTM templates for each ad group (keeps Plausible reports clean).
	•	Lighthouse content sanity: quick LCP/CLS metrics for proposed pages; fail if egregious.

⸻

## Engineering notes (to save you time)
	•	Data contracts: Lock JSON/CSV schemas now and add snapshot tests (vitest) for ads.json, seo_pages.md, and CSV headers—zero surprises when you iterate.
	•	Concurrency: cap SERP calls at 5–8 concurrent; enforce ≤30 total per run to keep RapidAPI cost predictable.
	•	Determinism: sort arrays before writing files; pin floats to 2–3 decimals so diffs are meaningful.
	•	Secrets: keep RapidAPI keys and (later) Ads OAuth tokens in .env; never write them into plans/ outputs.